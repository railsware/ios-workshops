<!DOCTYPE html>
<html>
<head>
  <title>Objective-C Foundation</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" media="all" href="theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script type="text/javascript">
var SLIDE_CONFIG = {
  // Slide settings
  settings: {
    title: 'Objective-C',
    subtitle: 'Foundation',
    useBuilds: true, // Default: true. False will turn off slide animation builds.
    usePrettify: true, // Default: true
    enableSlideAreas: true, // Default: true. False turns off the click areas on either slide of the slides.
    enableTouch: true, // Default: true. If touch support should enabled. Note: the device must support touch.
    //analytics: 'UA-XXXXXXXX-1', // TODO: Using this breaks GA for some reason (probably requirejs). Update your tracking code in template.html instead.
    favIcon: '',
    fonts: [
      'Open Sans:regular,semibold,italic,italicsemibold',
      'Inconsolata'
    ],
    //theme: ['mytheme'], // Add your own custom themes or styles in /theme/css. Leave off the .css extension.
  },

  // Author information
  presenters: [{
    name: 'Sergey Korolev',
    company: 'Software Engineer, Railsware',
    twitter: '@sk_dn',
    www: 'http://railsware.com',
    github: 'http://github.com/SergeyKorolev',
    slides: 'http://railsware.github.com/objective-c-foundation'
  }/*, {
    name: 'Second Name',
    company: 'Job Title, Google',
    gplus: 'http://plus.google.com/1234567890',
    twitter: '@yourhandle',
    www: 'http://www.you.com',
    github: 'http://github.com/you'
  }*/]
};
</script>
  <script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
  <style>
    span.highlight {background-color: #fff600;}
  </style>
</head>
<body style="opacity: 0">


<slides class="layout-widescreen">

  <!--
  <slide class="segue dark quote nobackground">
    <article class="flexbox auto-fadein vcenter">
      <q>Does it Scale?</q>
    </article>
  </slide>

  <slide class="segue dark quote nobackground">
    <article class="flexbox auto-fadein vcenter">
      <q>Does it <span style="text-decoration: line-through;">Scale</span> ThreadSafe?</q>
    </article>
  </slide>
  -->

  <slide class="title-slide segue nobackground">
    <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
      <br>
      <br>
      <br>
      <br>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Foundation Framework</h2>
    </hgroup>
    <article>
	<p style="line-height:32px;">
		Use the <a href="http://developer.apple.com/library/Mac/#documentation/Cocoa/Reference/Foundation/ObjC_classic/Intro/IntroFoundation.html">Foundation framework</a> for the "nuts and bolts" classes for Objective-C programming. This framework provides essential Objective-C classes. It includes classes for objects representing basic data types, collections, and operating-system services. 
	</p>
	<p style="line-height:32px;">
		Foundation also introduces several design patterns and mechanisms that contribute to the robustness and efficiency of Objective-C programs. Along with UIKit, the Foundation framework provides the basic tools and infrastructure you need to implement graphical, event-driven iOS applications.
	</p>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Class Hierarhy 1</h2>
    </hgroup>
    <article>		
		<table>
		<tr>
		<td width="25%">
			<img src="images/foundation/objc_foundation_A.jpg"/>
		</td>
		<td width="25%">
			<img src="images/foundation/objc_foundation2_A.jpg" />
		</td>
		<td width="25%">
			<img src="images/foundation/objc_foundation3_A.jpg" />
		</td>
		</tr>
		</table>		
    </article>
  </slide>
  <slide>
    <hgroup>
      <h2>NSObject</h2>
	  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html">Documentation</a>
    </hgroup>
    <article>
		<p style="line-height:32px;">
			NSObject is the root class of most Objective-C class hierarchies. Through NSObject, objects inherit a basic interface to the runtime system and the ability to behave as Objective-C objects.
		</p>
        <ul style="line-height:20px; font-size:20px;">
          <li>Initializing a Class </li>
          <li>Creating, Copying, and Deallocating Objects(+alloc | -init | –copy | –dealloc)</li>
          <li>Identifying Classes (+class | +superclass | +isSubclassOfClass:)</li>
          <li>Testing Class Functionality (+instancesRespondToSelector:)</li>
          <li>Testing Protocol Conformance (+conformsToProtocol:)</li>
          <li>Obtaining Information About Methods</li>
          <li>Describing Objects (+description)</li>
          <li>Discardable Content Proxy Support</li>
          <li>Sending Messages (performSelector:....)</li>
          <li>Forwarding Messages </li>
          <li>Dynamically Resolving Methods </li>		  
		  <li>Error Handling (–doesNotRecognizeSelector:) </li>	
		  <li>Archiving (serialisation) </li>	
        </ul>		
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>NS(Something) not always NSObject</h2>
    </hgroup>
    <article>
		<pre class="prettyprint" data-lang="objective-c" style="font-size:18px; font-weight:bold; line-height:21px;">
#if __LP64__ || (TARGET_OS_EMBEDDED && !TARGET_OS_IPHONE) || TARGET_OS_WIN32 || NS_BUILD_32_LIKE_64
typedef long NSInteger;
typedef unsigned long NSUInteger;
#else
typedef int NSInteger;
typedef unsigned int NSUInteger;
#endif
		</pre>
    </article>
  </slide>
  
  
  <slide>
    <hgroup>
      <h2>NSNumber</h2>
  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSNumber_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003704">Documentation</a>	  	  
    </hgroup>
    <article>
<p  style="line-height:32px;">
NSNumber is a subclass of NSValue that offers a value as any C scalar (numeric) type. It defines a set of methods specifically for setting and accessing the value as a signed or unsigned char, short int, int, long int, long long int, float, or double or as a BOOL.
</p>

		<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
// Usage example 
NSNumber* projectId = [NSNumber numberWithInteger:_story.projectId];
[projectId integerValue];
</pre>
    </article>
  </slide>


  <slide>
    <hgroup>
      <h2>Mutable and Immutable</h2>
    </hgroup>
    <article>		
		<pre class="prettyprint" data-lang="objective-c" style="font-size:18px; font-weight:bold; line-height:21px;">
NSString* string  = [NSString string]; //Immutable string
NSMutableString* newString1  = [NSString string];
[newString1 insertString:@"Some string" atIndex:0]; // Exception, still immutable string
NSMutableString* newString2  = [NSMutableString string];
[newString2 insertString:@"Some string" atIndex:0]; // Correct
		</pre>
		
		<pre class="prettyprint" data-lang="objective-c" style="font-size:18px; font-weight:bold; line-height:21px;">
NSArray* array  = @[@"Mike", @"Dan"];

NSMutableArray* mutableArray  = [NSMutableArray arrayWithArray:array];
[mutableArray insertObject:@"Alex" atIndex:0];			

for (NSString* currentName in  mutableArray) {
    NSLog(@"%@",currentName);
}
		</pre>
		
    </article>
  </slide>
  <slide>
    <hgroup>
      <h2>Copy VS MutableCopy</h2>
    </hgroup>
    <article>		
		<pre class="prettyprint" data-lang="objective-c" style="font-size:18px; font-weight:bold; line-height:21px;">

NSMutableArray* activeUsers = [NSMutableArray arrayWithObjects: @"Tom", @"Jack", nil];
[activeUsers addObject:@"Mike"];
NSLog(@"%@", activeUsers); // Tom, Jack, Mike

NSMutableArray* allUsers1 = [activeUsers copy];
[allUsers1 addObject:@"Fred"]; // Exception -[__NSArrayI addObject:]: unrecognized selector sent...

NSMutableArray* allUsers2 = [activeUsers mutableCopy];
[allUsers2 addObject:@"Fred"];
NSLog(@"%@", allUsers2); //  Tom, Jack, Mike, Fred
		</pre>
				
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>NSString</h2>
  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/uid/TP40003744">Documentation</a>	  	  
    </hgroup>
    <article>
<p  style="line-height:32px;">
The NSString class declares the programmatic interface for an object that manages immutable strings. An immutable string is a text string that is defined when it is created and subsequently cannot be changed. NSString is implemented to represent an array of Unicode characters, in other words, a text string.
</p>

<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
NSString* stringHello = @"Hello";
NSLog(@"%@", [NSString stringWithFormat:@"I'm %@, I'm %d", @"Bob", 18 ]);
</pre>
    </article>
  </slide>
  
  <slide>
    <hgroup>
      <h2>Collections</h2>
    </hgroup>
    <article>
        <ul style="line-height:20px; font-size:20px;">
          <li>NSArray & NSMutableArray</li>
          <li>NSDictionary & NSMutableDictionary</li>
          <li>NSSet & NSMutableSet</li>
        </ul>				
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Collections: NSArray & NSMutableArray</h2>
	  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSArray_Class/NSArray.html#//apple_ref/doc/uid/TP40003620">Documentation</a>	  
    </hgroup>
    <article>
		<p  style="line-height:32px;">
NSArray and its subclass NSMutableArray manage ordered collections of objects called arrays. NSArray creates static arrays, and NSMutableArray creates dynamic arrays. You can use arrays when you need an ordered collection of objects.
		</p>		
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Collections: NSDictionary & NSMutableDictionary</h2>
	  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSDictionary_Class/Reference/Reference.html">Documentation</a>	  
    </hgroup>
    <article>
		<p  style="line-height:32px;">
The NSDictionary class declares the programmatic interface to objects that manage immutable associations of keys and values. Use this class or its subclass NSMutableDictionary when you need a convenient and efficient way to retrieve data associated with an arbitrary key. NSDictionary creates static dictionaries, and NSMutableDictionary creates dynamic dictionaries.
		</p>		
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Collections: NSSet & NSMutableSet</h2>
	  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSSet_Class/Reference/Reference.html">Documentation</a>	  
    </hgroup>
    <article>
		<p  style="line-height:32px;">
NSSet declares the programmatic interface for static sets of distinct objects. You establish a static set’s entries when it’s created, and thereafter the entries can’t be modified. NSMutableSet, on the other hand, declares a programmatic interface for dynamic sets of distinct objects. A dynamic—or mutable—set allows the addition and deletion of entries at any time, automatically allocating memory as needed.
		</p>		
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>NSEnumerator</h2>
	  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSEnumerator_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003654">Documentation</a>	  
    </hgroup>
    <article>
		<p  style="line-height:32px;">
NSEnumerator is an abstract class, instances of whose subclasses enumerate collections of other objects, such as arrays and dictionaries.
		</p>
		<p  style="line-height:32px;">
All creation methods are defined in the collection classes—such as NSArray, NSSet, and NSDictionary—which provide special NSEnumerator objects with which to enumerate their contents. For example, NSArray has two methods that return an NSEnumerator object: objectEnumerator and reverseObjectEnumerator.
		</p>
<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
NSArray* userNames = @[@"Ben", @"John", @"Ken"];
NSEnumerator* enumerator = [userNames objectEnumerator];
id object;
while ((object = [enumerator nextObject])) {
    // do something with object...
}
for(NSString* name in userNames) {
	NSLog(@"%@, ", name);
}
</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2> Dates </h2>
	  NSDate & NSCalendarDate & NSDateComponents & NSCalendar & NSTimeZone
<a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSDate_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003641">Documentation</a>
    </hgroup>
    <article>
		<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
@interface NSDate (Utilities) 			//NSDate+Utilities.h
-(NSDate*)normalizeForPivotalTracker;
@end

@implementation NSDate (Utilities) 		//NSDate+Utilities.m
//Special normalization for the Pivoatl Example:2012/05/15 12:00:00 UTC to get 12:00:00 UTC
-(NSDate*)normalizeForPivotalTracker
{
    NSCalendar* currentCalendar = [NSCalendar currentCalendar];
    [currentCalendar setTimeZone:[NSTimeZone timeZoneWithName:@"UTC"]];

    unsigned unitFlags = NSYearCalendarUnit | NSMonthCalendarUnit | NSDayCalendarUnit;
    NSDateComponents* dateComponents = [currentCalendar components:unitFlags fromDate:self];
    [dateComponents setHour:12];
    [dateComponents setMinute:0];
    [dateComponents setSecond:0];

    return [currentCalendar dateFromComponents:dateComponents];
}
@end			
		</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>NSTimer</h2>
<a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSTimer_Class/Reference/NSTimer.html#//apple_ref/doc/uid/TP40003747">Documentation</a>	  
    </hgroup>
    <article>
        <ul>
          <li>+scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:</li>
		  <li>–fire</li>
		  <li>–invalidate</li>
		  <li>–isValid</li>
        </ul>		
		<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">			
if (!_refreshTimer) {
_refreshTimer = [NSTimer scheduledTimerWithTimeInterval:REFRESH_STORIES_LIST_TIMER 
		                                         target:self
		                                       selector:@selector(refreshStoriesListByTimer) 
		                                       userInfo:nil 
		                                        repeats:YES];
}
		</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Multi threading</h2>
<a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/Multithreading/Introduction/Introduction.html">Documentation</a>	  
    </hgroup>
    <article>
      <ul>
        <li>NSThread</li>
		<li>NSOperation or NSBlockOperation + NSOperationQueue</li>
		<li>NSObject methods</li>
      </ul>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Multi threading: NSThread</h2>
<a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSThread_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003746">Documentation</a>	  
    </hgroup>
    <article>
<pre class="prettyprint" data-lang="objective-c" style="font-size:18px; font-weight:bold; line-height:21px;">
NSThread* myThread = [[NSThread alloc] initWithTarget:self
	                                         selector:@selector(myThreadMainMethod:)
	                                           object:nil];
[myThread start];  // Actually create the thread
</pre>
<p  style="line-height:32px;">
Note:
An alternative to using the initWithTarget:selector:object: method is to subclass NSThread and override its main method. You would use the overridden version of this method to implement your thread’s main entry point. 
</p>
    </article>
  </slide>

  <slide>
    <hgroup>
        <h2>Multi threading: NSOperation + NSOperationQueue</h2>
  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/NSOperation_class/Reference/Reference.html#//apple_ref/doc/uid/TP40004591">Documentation</a>	  
    </hgroup>
    <article>
<pre class="prettyprint" data-lang="objective-c" style="font-size:18px; font-weight:bold; line-height:21px;">
@interface AuthOperation : NSOperation 
+(AuthOperation*)operationWithUser:(PivotalUser*) user 
                          delegate:(NSObject<PivotalOperationDelegate>*) delegate;
@end

@implementation  AuthOperation
...
-(void)main {
	[_delegate performSelectorOnMainThread:@selector(doSomething:) 
                                         withObject:operationInfo 
                                      waitUntilDone:NO];
 }
...
@end
...
NSOperationQueue* operationQueue = [[NSOperationQueue alloc] init];
[operationQueue setMaxConcurrentOperationCount:count];
[operationQueue addOperation: [AuthOperation operationWithUser:_user 
                                                      delegate:self]];
</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
        <h2>Multi threading: NSObject</h2>
  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html#//apple_ref/occ/cl/NSObject">Documentation</a>
    </hgroup>
    <article>
<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
- (void)callingMethod {
    NSDictionary * args = [NSDictionary dictionaryWithObjectsAndKeys:
                            [NSNumber numberWithInteger:pageIndex], @"pageIndex",
                            [NSNumber numberWithBool:firstCase], @"firstCase",
                            nil];

    [self performSelectorInBackground:@selector(reloadPageWrapper:)
                           withObject:args];
}
</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>NSURL + NSURL Request</h2>
	  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSURL_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003752">Documentation</a>	  	  
    </hgroup>
    <article>
		<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
NSMutableURLRequest* urlRequest = [[[NSMutableURLRequest alloc] initWithURL: 
                                                       [NSURL URLWithString: AUTH_URL]] autorelease];    
    
NSData* plainTextData = [[NSString stringWithFormat:@"%@:%@", self.user.login, self.user.password] 
		                               dataUsingEncoding:NSUTF8StringEncoding];    
NSString* basicAuthToken = [plainTextData base64EncodedString];
urlRequest setValue:basicAuthToken forHTTPHeaderField:@"Authorization: Basic"];

// Request data
NSError* requestError = nil;
NSURLResponse* urlResponse = nil;
NSData* responseData = [NSURLConnection sendSynchronousRequest:urlRequest 
		                                     returningResponse:&urlResponse 
		                                                 error:&requestError];
//Prepare output
NSArray* checkErrorResults =  [PivotalObejctsFactory checkForError:responseData];		
</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>NSNotification+NSNotificationCenter</h2>
  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSNotification_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003700">Documentation</a>	  	  
    </hgroup>
    <article>
		<p style="line-height:32px;">
NSNotification objects encapsulate information so that it can be broadcast to other objects by an NSNotificationCenter object. An NSNotification object (referred to as a notification) contains a name, an object, and an optional dictionary. The name is a tag identifying the notification.skype
		</p>
		<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
//Register notification observer
[[NSNotificationCenter defaultCenter] addObserver:self 
                                         selector:@selector(runFilter) 
		                                     name:MESSAGE_UPDATE_STORIES_NUMBER 
		                                   object:_searchField];
//Broadcast message
[[NSNotificationCenter defaultCenter] postNotificationName:MESSAGE_UPDATE_STORIES_NUMBER 
                                                    object:self 
                                                  userInfo:userInfo];
//Remove observer
[[NSNotificationCenter defaultCenter] removeObserver:self
                                                name:NSTextDidChangeNotification
                                              object:_descriptionTextView];

		</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>NSUserDefaults</h2>
  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003764">Documentation</a>	  	  
    </hgroup>
    <article>
<p  style="line-height:32px;">
The NSUserDefaults class provides a programmatic interface for interacting with the defaults system. The defaults system allows an application to customize its behavior to match a user’s preferences.
</p>

		<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
// Write 
[[NSUserDefaults standardUserDefaults] setInteger:projectId forKey:KEY_ACTIVE_PROJECT];        

// Read 
[[NSUserDefaults standardUserDefaults] integerForKey:KEY_ACTIVE_PROJECT];		
</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>NSError</h2>
  <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSError_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40003655">Documentation</a>	  	  
    </hgroup>
    <article>
	<p  style="line-height:32px;">
An NSError object encapsulates richer and more extensible error information than is possible using only an error code or error string. The core attributes of an NSError object are an error domain (represented by a string), a domain-specific error code and a user info dictionary containing application specific information.		
	</p>
	<pre class="prettyprint" data-lang="objective-c"  style="font-size:18px; font-weight:bold; line-height:21px;">
- (NSArray *)nodesForXPath:(NSString *)xpath
                namespaces:(NSDictionary *)namespaces
		             error:(NSError **)error {
...		
    if (array == nil && error != nil) {
       *error = [NSError errorWithDomain:@"com.google.GDataXML"
                                    code:errorCode
                                userInfo:errorInfo];
    }
...
}
	</pre>	
    </article>
  </slide>


  <slide>
    <hgroup>
      <h2>App for the workshop</h2>
    </hgroup>
    <article>
		1Mln+ Twitter application without using iOS Twitter API.
	</article>
  </slide>


  <slide class="backdrop"></slide>

</slides>
</body>
</html>
